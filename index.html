<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>CREOVIA - Digital Marketplace</title>

<link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;600;700&display=swap" rel="stylesheet">

<style>
*{box-sizing:border-box;margin:0;padding:0;font-family:'Poppins',sans-serif}
body{background:#f5f5f5;color:#111}
header{background:#6C4BFF;color:#fff;padding:20px}
nav a{color:#fff;margin-right:15px;text-decoration:none;font-weight:600}
.hero{text-align:center;padding:60px 20px;background:linear-gradient(135deg,#6C4BFF,#8F63FF);color:#fff}
main{padding:40px 20px;max-width:1200px;margin:auto}
.products{display:grid;grid-template-columns:repeat(auto-fit,minmax(250px,1fr));gap:25px}
.product-card{background:#fff;border-radius:15px;padding:20px;text-align:center}
.upload-section{margin-top:60px;background:#fff;padding:40px;border-radius:20px;text-align:center}
.upload-section input,select,textarea{width:100%;max-width:400px;padding:10px;margin:8px auto;border-radius:8px;border:1px solid #ccc}
button{background:#6C4BFF;color:#fff;border:none;padding:12px 20px;border-radius:10px;cursor:pointer}
footer{text-align:center;padding:20px;background:#0F172A;color:#fff;margin-top:50px}
</style>
</head>

<body>

<header>
  <h1>CREOVIA</h1>
</header>

<section class="hero">
  <h2>Sell and Buy Digital Products Easily</h2>
  <p>Ebooks, templates, logos, magazines, and more.</p>
</section>

<main>

<section class="upload-section">
<h2>Upload Your Product</h2>

<button id="uploadBtn">Upload Now</button>

<form id="uploadForm" style="display:none">

<input type="file" id="fileInput" multiple accept=".jpg,.png,.pdf,.zip" required>

<input type="text" id="productName" placeholder="Product Name" required>

<textarea id="productDesc" placeholder="Product Description" required></textarea>

<select id="productType" required>
  <option value="">Select Product Type</option>
  <option value="ebook">Ebook</option>
  <option value="template">Template</option>
  <option value="logo">Logo</option>
  <option value="magazine">Magazine</option>
</select>

<input type="number" id="productPrice" placeholder="Price ($)" required>

<button type="submit">Submit Product</button>

</form>
</section>

</main>

<footer>
&copy; 2026 CREOVIA
</footer>

<script>
const uploadBtn = document.getElementById('uploadBtn');
const uploadForm = document.getElementById('uploadForm');

uploadBtn.onclick = () => {
  uploadForm.style.display =
    uploadForm.style.display === 'none' ? 'block' : 'none';
};

uploadForm.addEventListener('submit', async (e) => {
  e.preventDefault();

  const files = fileInput.files;
  const formData = new FormData();

  formData.append('name', productName.value);
  formData.append('desc', productDesc.value);
  formData.append('type', productType.value);
  formData.append('price', productPrice.value);

  for (let i = 0; i < files.length; i++) {
    formData.append('files', files[i]);
  }

  try {
    const res = await fetch('https://backend-creovea.onrender.com/upload', {
      method: 'POST',
      body: formData
    });

    const data = await res.json();
    alert(data.message);

    uploadForm.reset();
    uploadForm.style.display = 'none';
  } catch (err) {
    alert('Upload failed');
    console.error(err);
  }
});
</script>

</body>
</html>
